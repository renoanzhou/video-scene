!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e="undefined"!=typeof globalThis?globalThis:e||self).limitSeek={})}(this,(function(e){"use strict";function i(e,i,t){return e.addEventListener(i,t),{dispose:function(){e.removeEventListener(i,t)}}}var t=function(){function e(e){var t=this;this.status=0,this.inLimitStatus=0,this.timeRecord=0,this.handleTimeUpdate=function(){var e=t.video.currentTime;t.status&&("limit-not-see"===t.limitType?e-t.timeRecord>1?t.limitSeek():t.timeRecord=e>t.timeRecord?e:t.timeRecord:Math.abs(e-t.timeRecord)<1?t.timeRecord=e:t.limitSeek())},this.handleSeeked=function(){t.status&&(t.inLimitStatus?t.inLimitStatus=0:("limit-not-see"===t.limitType&&t.video.currentTime>t.timeRecord||"limit-all"===t.limitType)&&t.limitSeek())},this.video=e.video,this.limitType=e.limitType||"limit-all",this.video&&"function"==typeof this.video.play&&(this.disposeTimeUpdate=i(this.video,"timeupdate",this.handleTimeUpdate),this.disposeSeeked=i(this.video,"seeked",this.handleSeeked),this.timeRecord="number"==typeof e.timeRecord?e.timeRecord:0)}return e.prototype.limitSeek=function(){this.inLimitStatus=1,this.video.currentTime=this.timeRecord},e.prototype.start=function(){this.status=1},e.prototype.stop=function(){this.status=0},e.prototype.dispose=function(){var e,i;null===(e=this.disposeTimeUpdate)||void 0===e||e.dispose(),null===(i=this.disposeSeeked)||void 0===i||i.dispose()},e}();e.LimitSeek=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=limitSeek.umd.js.map
