function i(i,t,e){return i.addEventListener(t,e),{dispose:function(){i.removeEventListener(t,e)}}}var t=function(){function t(t){var e=this;this.status=0,this.inLimitStatus=0,this.timeRecord=0,this.handleTimeUpdate=function(){var i=e.video.currentTime;e.status&&("limit-not-see"===e.limitType?i-e.timeRecord>1?e.limitSeek():e.timeRecord=i>e.timeRecord?i:e.timeRecord:Math.abs(i-e.timeRecord)<1?e.timeRecord=i:e.limitSeek())},this.handleSeeked=function(){e.status&&(e.inLimitStatus?e.inLimitStatus=0:("limit-not-see"===e.limitType&&e.video.currentTime>e.timeRecord||"limit-all"===e.limitType)&&e.limitSeek())},this.video=t.video,this.limitType=t.limitType||"limit-all",this.video&&"function"==typeof this.video.play&&(this.disposeTimeUpdate=i(this.video,"timeupdate",this.handleTimeUpdate),this.disposeSeeked=i(this.video,"seeked",this.handleSeeked),this.timeRecord="number"==typeof t.timeRecord?t.timeRecord:0)}return t.prototype.limitSeek=function(){this.inLimitStatus=1,this.video.currentTime=this.timeRecord},t.prototype.start=function(){this.status=1},t.prototype.stop=function(){this.status=0},t.prototype.dispose=function(){var i,t;null===(i=this.disposeTimeUpdate)||void 0===i||i.dispose(),null===(t=this.disposeSeeked)||void 0===t||t.dispose()},t}();export{t as LimitSeek};
//# sourceMappingURL=limitSeek.es.js.map
